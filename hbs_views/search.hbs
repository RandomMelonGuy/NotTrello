<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RunwayProject</title> 
    <link rel="stylesheet" href="newStyles.css" />
</head>
<body>
    <header>
<a href="/" class="logo-link">
  <img id="logo" alt="RunwayProject" src="logo.png">
</a>
<nav>
  <ul>
    <li><a href="/">• Главная</a></li>
    <li><a href="/search">Поиск</a></li>
    <li><a href="/myprojects">Мои проекты</a></li>
  </ul>
</nav>
        {{#if autorized}}
      <div class="userBox">{{user.username}}</div>
      <a href="/notifications"><img id="notifications" alt="notifications" src="notification.png"></a>
      <a href="/logout"><img id="logout" alt="log out" src="logout.png"></a>
        {{else}}
        <a href="/register" class="moveBtn">Регистрация</a>
        <a href="/auth" class="moveBtn">Войти</a>
        {{/if }}
    </header>
    <main>
        <section class="searc">
            <div>Введите запрос: </div>
             <input id="searchhh" placeholder="Введите имя пользователя или его часть"></input>
             <button onclick="find()">Искать</button>
            <div class="results" id="results">
                <div class="result">
                  <p class="user">{{ username }}</p>
                </div>
            </div>
         </section>
    </main>
</body>
<script> 
  const find = () => {
    const nameVal = document.getElementById("searchhh").value;
    const resultBlock = document.getElementById("results");
    fetch("/search", {method: "POST", body: JSON.stringify({nameVal})}).then(res=>res.json()).then(data=>{
      resultBlock.innerHTML="";
      data.forEach(el=>{
        resultBlock.innerHTML+= `<div class="result"><p class="user">${el.username}</p></div>`;
      });
    });
  }
</script>
</html>